# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –¥–µ–ø–ª–æ—è –Ω–∞ Railway

## –ü—Ä–æ–±–ª–µ–º–∞

```
npm ERR! Cannot read property 'express' of undefined
```

–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π:
- `package-lock.json` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `lockfileVersion: 3` (—Ç—Ä–µ–±—É–µ—Ç npm 7+)
- Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Node 14, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å npm 6
- npm 6 –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å `lockfileVersion: 3`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è Node.js –≤ `package.json`:
```json
"engines": {
  "node": ">=18.0.0",
  "npm": ">=9.0.0"
}
```

–¢–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:
- `.nvmrc` - —É–∫–∞–∑—ã–≤–∞–µ—Ç Railway –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Node.js 18
- `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Railway

## üöÄ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   git add package.json .nvmrc railway.json
   git commit -m "Fix Railway deployment: update Node.js version to 18"
   git push
   ```

2. **Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç Node.js 18 –∏–∑ `.nvmrc` –∏–ª–∏ `package.json`
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç npm 9+ (–∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç lockfileVersion 3)
   - –£—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

3. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
   - –í Railway Dashboard ‚Üí Settings ‚Üí Variables
   - –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `NODE_VERSION=18`
   - –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ `package-lock.json` –∏ –ø–æ–∑–≤–æ–ª—å—Ç–µ Railway —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ)

–ï—Å–ª–∏ Railway –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é npm:

1. **–£–¥–∞–ª–∏—Ç–µ package-lock.json –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
   ```bash
   git rm package-lock.json
   git commit -m "Remove package-lock.json for Railway compatibility"
   git push
   ```

2. **Railway —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–π package-lock.json** –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

3. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ npm install –≤–º–µ—Å—Ç–æ npm ci:**
   - –í `railway.json` –∏–∑–º–µ–Ω–∏—Ç–µ `buildCommand` –Ω–∞ `npm install`

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway:
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `node 18.x.x` (–Ω–µ 14.x.x)
- –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `npm 9.x.x` (–Ω–µ 6.x.x)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ

